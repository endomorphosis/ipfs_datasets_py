[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "ipfs_datasets_py"
version = "1.0.0"
authors = [
  { name="Benjamin Barber", email="starworks5@gmail.com" },
]
description = "A wrapper around huggingface datasets, invoking an IPFS model manager with integrated development tools."
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
    # Core IPFS and datasets - simplified versions
    "datasets>=2.10.0,<3.0.0",
    "transformers>=4.0.0,<5.0.0",
    "torch>=1.9.0,<3.0.0",
    "numpy>=1.21.0,<2.0.0",
    "requests>=2.25.0,<3.0.0",
    "pandas>=1.5.0,<3.0.0",
    
    # File processing
    "pyarrow>=15.0.0,<21.0.0",
    "fsspec>=2024.1.0,<2026.0.0",
    "urllib3>=1.26.0,<3.0.0",
    
    # Testing framework (core only)
    "pytest>=7.3.1,<9.0.0",
    "pytest-cov>=4.1.0,<6.0.0",
    "pytest-asyncio>=0.21.0,<1.0.0",
    
    # Development tools (simplified)
    "coverage>=7.0.0,<8.0.0",
    "mypy>=1.0.0,<2.0.0",
    "flake8>=6.0.0,<8.0.0",
    
    # Basic utilities
    "tqdm>=4.60.0,<5.0.0",
    "pyyaml>=6.0.0,<7.0.0",
    "jinja2>=3.1.0,<4.0.0",
    "psutil>=5.9.0,<8.0.0",
    "aiofiles>=23.0.0,<25.0.0",
    
    # JSON and data validation
    "jsonschema>=4.0.0,<5.0.0",
    "pydantic>=2.0.0,<3.0.0",

    # Web GUI
    "Flask>=3.1.1",
]

classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: GNU Affero General Public License v3 or later (AGPLv3+)",
    "Operating System :: POSIX :: Linux",
]

[project.optional-dependencies]
# Separate IPFS components into optional dependencies
ipfs = [
    "ipfs-toolkit>=0.1.0",
    "ipfshttpclient>=0.8.0a2",
    "multiformats>=0.2.1",
]

# Vector and embedding capabilities
embeddings = [
    "faiss-cpu>=1.7.4,<2.0.0",
    "sentence-transformers>=2.2.0,<3.0.0",
    "scikit-learn>=1.3.0,<2.0.0",
    "scipy>=1.11.0,<2.0.0",
    "nltk>=3.8.0,<4.0.0",
    "rank-bm25>=0.2.0,<1.0.0",
    "einops>=0.6.0,<1.0.0",
    "timm>=0.9.0,<1.0.0",
]

# Web API functionality
api = [
    "fastapi>=0.100.0,<1.0.0",
    "uvicorn>=0.20.0,<1.0.0",
    "PyJWT>=2.8.0,<3.0.0",
    "passlib[bcrypt]>=1.7.4,<2.0.0",
    "python-multipart>=0.0.6,<1.0.0",
]

# Database integrations
databases = [
    "duckdb>=1.0.0,<2.0.0",
    "elasticsearch>=8.0.0,<9.0.0",
    "boto3>=1.35.0,<2.0.0",
]

# Document processing
documents = [
    "beautifulsoup4>=4.11.0,<5.0.0",
    "PyMuPDF>=1.24.0,<2.0.0",
    "pdfplumber>=0.10.0,<1.0.0",
    "pytesseract>=0.3.10,<1.0.0",
]

# Visualization
visualization = [
    "matplotlib>=3.7.0,<4.0.0",
    "seaborn>=0.12.0,<1.0.0",
    "plotly>=5.0.0,<6.0.0",
    "networkx>=3.0.0,<4.0.0",
]

# LLM integrations
llm = [
    "anthropic>=0.50.0,<1.0.0",
    "openai>=1.0.0,<2.0.0",
]

# Development dependencies
dev = [
    "pytest>=8.3.0,<9.0.0",
    "mypy>=1.15.0,<2.0.0", 
    "flake8>=7.2.0,<8.0.0",
    "coverage>=7.8.0,<8.0.0",
    "prometheus-client>=0.20.0,<1.0.0",
]

# All optional features
all = [
    "ipfs_datasets_py[ipfs,embeddings,api,databases,documents,visualization,llm,dev]"
]

[project.urls]
Homepage = "https://github.com/endomorphosis/ipfs_datasets_py"
Issues = "https://github.com/endomorphosis/ipfs_datasets_py/issues"
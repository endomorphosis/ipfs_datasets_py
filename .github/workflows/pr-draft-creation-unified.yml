name: PR Draft Creation Monitor (Unified)
permissions:
  contents: read
true:
  schedule:
  - cron: '*/10 * * * *'
  workflow_dispatch:
    inputs:
      max_drafts:
        description: 'Maximum draft PRs to create (default: 3)'
        required: false
        type: number
        default: 3
      dry_run:
        description: Dry run mode (no actual changes)
        required: false
        type: boolean
        default: false
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true
jobs:
  monitor:
    timeout-minutes: 30
    uses: ./.github/workflows/templates/pr-monitoring-template.yml
    with:
      monitoring_mode: draft-creation
      max_drafts: ${{ inputs.max_drafts || 3 }}
      dry_run: ${{ inputs.dry_run || false }}
      schedule_interval: Every 10 minutes
    secrets: inherit

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Municipal Codes Scraper - Dashboard Preview</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .sidebar {
            background: linear-gradient(180deg, #2c3e50 0%, #34495e 100%);
            height: 100vh;
            width: 280px;
            position: fixed;
            left: 0;
            top: 0;
            color: white;
        }
        .sidebar .nav-link {
            color: #ecf0f1;
            padding: 12px 20px;
            border-left: 3px solid transparent;
        }
        .sidebar .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-left-color: #667eea;
        }
        .sidebar .nav-link.active {
            background-color: rgba(102, 126, 234, 0.2);
            border-left-color: #667eea;
            font-weight: 600;
        }
        .sidebar .nav-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #95a5a6;
            padding: 1.5rem 1.5rem 0.5rem;
        }
        .main-content {
            margin-left: 280px;
            padding: 2rem;
        }
        .header {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        .tool-panel {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .tool-panel h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #1f2937;
        }
        .tool-panel h3 i {
            color: #2563eb;
            margin-right: 0.5rem;
        }
        .results-panel {
            background: #1f2937;
            color: #f3f4f6;
            border-radius: 8px;
            padding: 1.5rem;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.875rem;
            margin-top: 2rem;
        }
        .result-header {
            color: #10b981;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        .result-item {
            margin-bottom: 0.5rem;
            padding-left: 1rem;
            border-left: 2px solid #4b5563;
        }
        .alert-info {
            background-color: #dbeafe;
            border-color: #3b82f6;
            color: #1e40af;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div style="padding: 1.5rem;">
            <h4 style="margin: 0;">MCP Dashboard</h4>
            <p style="font-size: 0.875rem; opacity: 0.7; margin: 0;">Legal Tools</p>
        </div>
        
        <div class="nav-section-title">Legal & Logic Systems</div>
        <a href="#" class="nav-link">
            <i class="fas fa-gavel"></i> Caselaw Analysis
        </a>
        <a href="#" class="nav-link active">
            <i class="fas fa-city"></i> Municipal Codes Scraper
        </a>
        <a href="#" class="nav-link">
            <i class="fas fa-brain"></i> Text to First-Order Logic
        </a>
        <a href="#" class="nav-link">
            <i class="fas fa-balance-scale"></i> Legal Text to Deontic Logic
        </a>
        <a href="#" class="nav-link">
            <i class="fas fa-shield-alt"></i> Permission Checker
        </a>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1 style="margin: 0; font-size: 1.75rem;">
                <i class="fas fa-city"></i> Municipal Codes Scraper
            </h1>
            <p style="margin: 0.5rem 0 0; opacity: 0.9;">
                Scrape municipal legal codes from US cities and counties using the scrape_the_law_mk3 system
            </p>
        </div>

        <div class="row">
            <!-- Panel 1: Jurisdiction Selection -->
            <div class="col-md-4">
                <div class="tool-panel">
                    <h3><i class="fas fa-map-marker-alt"></i> Jurisdiction Selection</h3>
                    <div class="mb-3">
                        <label class="form-label">Jurisdictions</label>
                        <input type="text" class="form-control" placeholder="e.g., Seattle, WA; Portland, OR" value="Seattle, WA; Portland, OR; Austin, TX">
                        <small class="form-text text-muted">Enter one or more jurisdictions (comma-separated)</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Provider</label>
                        <select class="form-select">
                            <option>Auto-detect</option>
                            <option selected>Municode</option>
                            <option>American Legal</option>
                            <option>General Code</option>
                            <option>LexisNexis</option>
                        </select>
                        <small class="form-text text-muted">Legal code provider (auto-detect recommended)</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Output Format</label>
                        <select class="form-select">
                            <option selected>JSON</option>
                            <option>Parquet</option>
                            <option>SQL</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Panel 2: Scraping Options -->
            <div class="col-md-4">
                <div class="tool-panel">
                    <h3><i class="fas fa-cog"></i> Scraping Options</h3>
                    <div class="mb-3">
                        <label class="form-label">Rate Limit (seconds)</label>
                        <input type="number" class="form-control" value="2.0" step="0.5">
                        <small class="form-text text-muted">Delay between requests</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Max Sections</label>
                        <input type="number" class="form-control" placeholder="Leave empty for all sections">
                        <small class="form-text text-muted">Limit sections per jurisdiction</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Scraper Backend</label>
                        <select class="form-select">
                            <option selected>Playwright (Async)</option>
                            <option>Selenium (Sync)</option>
                        </select>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" checked>
                        <label class="form-check-label">Include Metadata</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" checked>
                        <label class="form-check-label">Include Full Text</label>
                    </div>
                </div>
            </div>

            <!-- Panel 3: Execute -->
            <div class="col-md-4">
                <div class="tool-panel">
                    <h3><i class="fas fa-play-circle"></i> Execute Scraping</h3>
                    <div class="mb-3">
                        <label class="form-label">Custom Job ID (Optional)</label>
                        <input type="text" class="form-control" placeholder="Auto-generated if empty">
                        <small class="form-text text-muted">For resume capability</small>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox">
                        <label class="form-check-label">Resume from Previous Job</label>
                    </div>
                    <button class="btn btn-primary btn-lg w-100 mb-2">
                        <i class="fas fa-download me-2"></i>Start Scraping
                    </button>
                    <button class="btn btn-outline-secondary w-100">
                        <i class="fas fa-undo me-2"></i>Clear Form
                    </button>
                </div>
            </div>
        </div>

        <!-- Info Panel -->
        <div class="alert alert-info">
            <h6><i class="fas fa-info-circle"></i> About Municipal Codes Scraping</h6>
            <p class="mb-2 small">This tool integrates with the scrape_the_law_mk3 system to collect municipal legal codes from US cities and counties. Per the US Library of Congress, there currently does not exist a single repository for all US municipal codes - this tool helps address that gap.</p>
            <ul class="mb-0 small">
                <li><strong>Coverage</strong>: ~22,899+ US municipalities</li>
                <li><strong>Providers</strong>: Municode (~3,528), American Legal (~2,180), General Code (~1,601), LexisNexis (~3,200)</li>
                <li><strong>Job Management</strong>: Auto-generated job IDs with resume capability</li>
                <li><strong>Output</strong>: Structured data with full metadata and citation information</li>
            </ul>
        </div>

        <!-- Results Panel -->
        <div class="results-panel">
            <div class="result-header">âœ“ Scraping Job Initialized</div>
            <div class="result-item"><strong>Job ID:</strong> municipal_codes_20251017_022500</div>
            <div class="result-item"><strong>Status:</strong> success</div>
            <div class="result-item"><strong>Jurisdictions:</strong> 3</div>
            <div class="result-item"><strong>Provider:</strong> municode</div>
            <div class="result-item"><strong>Output Format:</strong> json</div>
            <div class="result-item"><strong>Scraper:</strong> playwright</div>
            <div class="result-item mt-2">Municipal code scraping job initialized</div>
            <div class="result-item mt-2"><strong>Jurisdictions to scrape:</strong></div>
            <div class="result-item">  1. Seattle, WA</div>
            <div class="result-item">  2. Portland, OR</div>
            <div class="result-item">  3. Austin, TX</div>
            <div class="result-item mt-2"><strong>Metadata:</strong></div>
            <div class="result-item">  Jurisdictions Count: 3</div>
        </div>
    </div>
</body>
</html>
